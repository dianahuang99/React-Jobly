(this["webpackJsonpsnack-or-booze"]=this["webpackJsonpsnack-or-booze"]||[]).push([[0],{169:function(e,t,n){},171:function(e,t,n){},189:function(e,t,n){},201:function(e,t){},203:function(e,t){},218:function(e,t){},220:function(e,t){},248:function(e,t){},250:function(e,t){},251:function(e,t){},256:function(e,t){},258:function(e,t){},264:function(e,t){},266:function(e,t){},285:function(e,t){},297:function(e,t){},300:function(e,t){},317:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(32),s=n.n(c),i=(n(169),n(170),n(164)),o=n(5),u=n(11),j=n(10),l=n(17),b=(n(171),n(157)),p=n(158),O=n(159),h=n.n(O),d="https://backend-jobly-react.herokuapp.com/",m=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"request",value:function(){var t=Object(u.a)(Object(o.a)().mark((function t(n){var r,a,c,s,i,u,j=arguments;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=j.length>1&&void 0!==j[1]?j[1]:{},a=j.length>2&&void 0!==j[2]?j[2]:"get",console.debug("API Call:",n,r,a),c="".concat(d,"/").concat(n),s={Authorization:"Bearer ".concat(e.token)},i="get"===a?r:{},t.prev=6,t.next=9,h()({url:c,method:a,data:r,params:i,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),u=t.t0.response.data.error.message,Array.isArray(u)?u:[u];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies");case 2:return t=e.sent,e.abrupt("return",t.companies);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs");case 2:return t=e.sent,e.abrupt("return",t.jobs);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterCompanies",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterJobs",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t,n){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),n,"patch");case 2:return r=e.sent,e.abrupt("return",r.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"applyToJob",value:function(){var e=Object(u.a)(Object(o.a)().mark((function e(t,n){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t,"/jobs/").concat(n),{},"post");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),f=m,x=(n(189),n(8)),v=a.a.createContext(),g=n(2);var y=function(e){var t=e.logout,n=Object(r.useContext)(v).currentUser;return Object(g.jsxs)(g.Fragment,{children:[" ",n?Object(g.jsx)("div",{children:Object(g.jsxs)(x.i,{expand:"md",children:[Object(g.jsx)(l.c,{exact:!0,to:"/",className:"navbar-brand",children:"Jobly"}),Object(g.jsxs)(x.g,{className:"ml-auto",navbar:!0,children:[Object(g.jsx)(x.h,{children:Object(g.jsx)(l.c,{to:"/companies",children:"Companies"})}),Object(g.jsx)(x.h,{children:Object(g.jsx)(l.c,{to:"/jobs",children:"Jobs"})}),Object(g.jsx)(x.h,{children:Object(g.jsx)(l.c,{to:"/profile",children:"Profile"})}),Object(g.jsx)(x.h,{children:Object(g.jsxs)(l.c,{to:"/",onClick:t,children:["Log Out ",n.firstName||n.username]})})]})]})}):Object(g.jsx)("div",{children:Object(g.jsxs)(x.i,{expand:"md",children:[Object(g.jsx)(l.c,{exact:!0,to:"/",className:"navbar-brand",children:"Jobly"}),Object(g.jsxs)(x.g,{className:"ml-auto",navbar:!0,children:[Object(g.jsx)(x.h,{children:Object(g.jsx)(l.c,{to:"/login",children:"Login"})}),Object(g.jsx)(x.h,{children:Object(g.jsx)(l.c,{to:"/signup",children:"Sign Up"})})]})]})})]})},w=n(16),N=n(20),k=n(4),C=(n(94),n(21)),S=n(6);var q=function(e){e.filterCompanies;var t=Object(r.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s={name:""},i=Object(r.useState)(s),b=Object(j.a)(i,2),p=b[0],O=b[1],h=Object(r.useState)(!0),d=Object(j.a)(h,2),m=d[0],v=d[1];Object(r.useEffect)((function(){function e(){return e=Object(u.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getCompanies();case 2:t=e.sent,c(t),v(!1);case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(s),e.next=4,f.filterCompanies(p);case 4:n=e.sent,c(n.companies);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?Object(g.jsx)("h3",{children:"Loading..."}):Object(g.jsx)("section",{className:"col-md-9",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{children:[Object(g.jsx)(x.d,{className:"font-weight-bold text-center",children:"Companies List"}),Object(g.jsxs)(S.a,{onSubmit:y,children:[Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{}),Object(g.jsx)(S.a.Control,{id:"name",name:"name",value:p.name,onChange:function(e){var t=e.target,n=t.name,r=t.value;O((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,r))}))},placeholder:"Enter search term...",required:!0})]}),Object(g.jsx)(C.a,{variant:"info",type:"submit",children:"Submit"})]}),Object(g.jsx)(x.e,{children:a.length?a.map((function(e){return Object(g.jsx)(l.b,{to:"/companies/".concat(e.handle),children:Object(g.jsxs)(x.f,{children:[Object(g.jsxs)("h3",{children:[" ",e.name]}),Object(g.jsx)("p",{children:e.description})]})},e.handle)})):Object(g.jsx)("p",{children:"Sorry, no results were found!"})})]})})})},L=function(e){var t=e.id,n=e.title,a=e.companyName,c=e.salary,s=e.equity,i=Object(r.useContext)(v),l=i.hasAppliedToJob,b=i.applyToJob,p=Object(r.useState)(),O=Object(j.a)(p,2),h=O[0],d=O[1];function m(){return(m=Object(u.a)(Object(o.a)().mark((function e(n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l(t)){e.next=2;break}return e.abrupt("return");case 2:b(t),d(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){d(l(t))}),[t,l]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:[" ",n]}),Object(g.jsx)("h5",{children:a}),Object(g.jsxs)("p",{children:["Salary: ",c?c.toLocaleString("en-US"):0]}),Object(g.jsxs)("p",{children:["Equity: ",s||0]}),Object(g.jsx)(C.a,{variant:"danger",onClick:function(e){return m.apply(this,arguments)},disabled:h,children:h?"Applied":"Apply"})]})};var U=function(e){var t=e.cantFind,n=e.getCompany,a=Object(w.h)().handle,c=Object(r.useState)({}),s=Object(j.a)(c,2),i=s[0],l=s[1],b=Object(r.useState)(!0),p=Object(j.a)(b,2),O=p[0],h=p[1],d=Object(w.g)(),m=Object(r.useContext)(v).currentUser;return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(Object(o.a)().mark((function e(){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(a);case 3:r=e.sent,l(r),console.log(m),h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),h(!1),d.push(t);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),O?Object(g.jsx)("h3",{children:"Loading..."}):Object(g.jsx)("section",{children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{children:[Object(g.jsx)(x.d,{className:"font-weight-bold text-center",children:i.name}),Object(g.jsx)(x.c,{className:"font-italic",children:i.description}),Object(g.jsxs)("p",{children:[Object(g.jsx)("b",{children:"Employees:"})," ",i.numEmployees]}),i.jobs?i.jobs.map((function(e){return Object(g.jsx)(x.f,{children:Object(g.jsx)(L,{id:e.id,title:e.title,companyName:e.companyName,salary:e.salary,equity:e.equity})})})):null]})})})};var E=function(){var e=Object(r.useContext)(v).currentUser;return Object(g.jsx)("section",{className:"col-md-8",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{className:"text-center",children:[Object(g.jsx)(x.d,{children:Object(g.jsx)("h1",{className:"font-weight-bold",children:"Jobly"})}),Object(g.jsx)("p",{children:"All the jobs in one, convenient place."}),Object(g.jsx)("h3",{children:e?"Welcome back ".concat(e.firstName):Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)(l.c,{to:"/login",children:Object(g.jsx)(C.a,{variant:"info",children:"Login"})})," ",Object(g.jsx)(l.c,{to:"/signup",children:Object(g.jsx)(C.a,{variant:"info",children:"Sign Up"})})]})})]})})})},J=function(e){var t=e.register,n={username:"",password:"",firstName:"",lastName:"",email:""},a=Object(r.useState)(n),c=Object(j.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)([]),b=Object(j.a)(l,2),p=b[0],O=b[1],h=Object(w.g)(),d=function(){var e=Object(u.a)(Object(o.a)().mark((function e(r){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i(n),e.next=4,t(s);case 4:(a=e.sent).success?h.push("/companies"):(console.log("errors"+a.errors),O(a.errors)),console.log(p);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.target,n=t.name,r=t.value;i((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,r))}))};return Object(g.jsx)("section",{className:"col-md-9",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{children:[p.length?p.map((function(e){return Object(g.jsx)("p",{children:e})})):null,Object(g.jsx)(x.d,{className:"font-weight-bold text-center",children:"Sign Up"}),Object(g.jsxs)(S.a,{onSubmit:d,children:[Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Username"}),Object(g.jsx)(S.a.Control,{id:"username",name:"username",value:s.usernname,onChange:m,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Password"}),Object(g.jsx)(S.a.Control,{type:"password",id:"password",name:"password",value:s.password,onChange:m,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"First Name"}),Object(g.jsx)(S.a.Control,{id:"firstName",name:"firstName",value:s.firstName,onChange:m,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Last Name"}),Object(g.jsx)(S.a.Control,{id:"lastName",name:"lastName",value:s.lastName,onChange:m,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Email"}),Object(g.jsx)(S.a.Control,{id:"email",name:"email",value:s.email,onChange:m,required:!0})]}),Object(g.jsx)(C.a,{variant:"dark",type:"submit",children:"Submit"})]})]})})})};var G=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(j.a)(c,2),i=s[0],l=s[1],b={title:""},p=Object(r.useState)(b),O=Object(j.a)(p,2),h=O[0],d=O[1];if(Object(r.useEffect)((function(){function e(){return e=Object(u.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getJobs();case 2:t=e.sent,a(t),l(!1);case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i)return Object(g.jsx)("h3",{children:"Loading..."});var m=function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(b),e.next=4,f.filterJobs(h);case 4:n=e.sent,a(n.jobs);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("section",{className:"col-md-9",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{children:[Object(g.jsx)(x.d,{className:"font-weight-bold text-center",children:"Jobs List"}),Object(g.jsxs)(S.a,{onSubmit:m,children:[Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{}),Object(g.jsx)(S.a.Control,{id:"title",name:"title",value:h.title,onChange:function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,r))}))},placeholder:"Enter search term...",required:!0})]}),Object(g.jsx)(C.a,{variant:"info",type:"submit",children:"Submit"})]}),Object(g.jsx)(x.e,{children:n.length?n.map((function(e){return Object(g.jsx)(x.f,{children:Object(g.jsx)(L,{id:e.id,title:e.title,companyName:e.companyName,salary:e.salary,equity:e.equity})})})):Object(g.jsx)("p",{children:"Sorry, no results were found!"})})]})})})},A=function(e){var t=e.login,n={username:"",password:""},a=Object(r.useState)(n),c=Object(j.a)(a,2),s=c[0],i=c[1],l=Object(r.useState)([]),b=Object(j.a)(l,2),p=b[0],O=b[1],h=Object(w.g)(),d=function(){var e=Object(u.a)(Object(o.a)().mark((function e(r){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i(n),e.next=4,t(s);case 4:a=e.sent,console.log(a),a.success?h.push("/companies"):(console.log("errors"+a.errors),O(a.errors)),console.log(p);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.target,n=t.name,r=t.value;i((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,r))}))};return Object(g.jsx)("section",{className:"col-md-9",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{children:[p.length?p.map((function(e){return Object(g.jsx)("p",{children:e})})):null,Object(g.jsx)(x.d,{className:"font-weight-bold text-center",children:"Log In"}),Object(g.jsxs)(S.a,{onSubmit:d,children:[Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Username"}),Object(g.jsx)(S.a.Control,{id:"username",name:"username",value:s.usernname,onChange:m,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Password"}),Object(g.jsx)(S.a.Control,{type:"password",id:"password",name:"password",value:s.password,onChange:m,required:!0})]}),Object(g.jsx)(C.a,{variant:"dark",type:"submit",children:"Submit"})]})]})})})},I=function(){var e=Object(r.useContext)(v),t=e.currentUser,n=e.setCurrentUser,a={username:t.username,firstName:t.firstName,lastName:t.lastName,email:t.email,password:""},c=Object(r.useState)(a),s=Object(j.a)(c,2),i=s[0],l=s[1],b=Object(r.useState)([]),p=Object(j.a)(b,2),O=p[0],h=p[1],d=Object(r.useState)(!1),m=Object(j.a)(d,2),y=m[0],w=m[1],q=function(){var e=Object(u.a)(Object(o.a)().mark((function e(t){var r,a,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={firstName:i.firstName,lastName:i.lastName,email:i.email,password:i.password},a=i.username,e.prev=3,e.next=6,f.updateUser(a,r);case 6:c=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),h(e.t0);case 12:l((function(e){return Object(k.a)(Object(k.a)({},e),{},{password:""})})),h([]),w(!0),n(c);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=e.target,n=t.name,r=t.value;l((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},n,r))})),h([])};return Object(g.jsx)("section",{className:"col-md-9",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(x.b,{children:[O.length?O.map((function(e){return Object(g.jsx)("p",{children:e})})):null,y?Object(g.jsx)("p",{children:"Updated successfully."}):null,Object(g.jsx)(x.d,{className:"font-weight-bold text-center",children:"Profile"}),Object(g.jsxs)(S.a,{onSubmit:q,children:[Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Username"}),Object(g.jsx)("p",{children:i.username})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"First Name"}),Object(g.jsx)(S.a.Control,{id:"firstName",name:"firstName",value:i.firstName,onChange:L,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Last Name"}),Object(g.jsx)(S.a.Control,{id:"lastName",name:"lastName",value:i.lastName,onChange:L,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Email"}),Object(g.jsx)(S.a.Control,{id:"email",name:"email",value:i.email,onChange:L,required:!0})]}),Object(g.jsxs)(S.a.Group,{className:"mb-3",children:[Object(g.jsx)(S.a.Label,{children:"Please confirm password to make changes:"}),Object(g.jsx)(S.a.Control,{type:"password",id:"password",name:"password",value:i.password,onChange:L,required:!0})]}),Object(g.jsx)(C.a,{variant:"dark",type:"submit",children:"Submit"})]})]})})})};var P=function(e){var t=e.exact,n=e.path,a=e.children,c=Object(r.useContext)(v).currentUser;return console.debug("PrivateRoute","exact=",t,"path=",n,"currentUser=",c),c?Object(g.jsx)(w.b,{exact:t,path:n,children:a}):Object(g.jsx)(w.a,{to:"/login"})},F=function(e){var t=e.login,n=e.getCompany,r=e.register;return Object(g.jsx)("main",{children:Object(g.jsxs)(w.d,{children:[Object(g.jsx)(P,{exact:!0,path:"/companies",children:Object(g.jsx)(q,{title:"Companies"})}),Object(g.jsx)(P,{path:"/companies/:handle",children:Object(g.jsx)(U,{cantFind:"/companies",getCompany:n})}),Object(g.jsx)(P,{exact:!0,path:"/jobs",children:Object(g.jsx)(G,{})}),Object(g.jsx)(P,{exact:!0,path:"/profile",children:Object(g.jsx)(I,{})}),Object(g.jsx)(w.b,{exact:!0,path:"/",children:Object(g.jsx)(E,{})}),Object(g.jsx)(w.b,{exact:!0,path:"/signup",children:Object(g.jsx)(J,{register:r})}),Object(g.jsx)(w.b,{exact:!0,path:"/login",children:Object(g.jsx)(A,{login:t})}),Object(g.jsx)(w.b,{children:Object(g.jsx)("p",{children:"Hmmm. I can't seem to find what you want."})})]})})};var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e)||t,a=Object(r.useState)(n),c=Object(j.a)(a,2),s=c[0],i=c[1];return Object(r.useEffect)((function(){console.debug("hooks useLocalStorage useEffect","item=",s),null===s?localStorage.removeItem(e):localStorage.setItem(e,s)}),[e,s]),[s,i]},D=n(163),z=n.n(D);var B=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),n=t[0],a=t[1],c=T("jobly-token"),s=Object(j.a)(c,2),b=s[0],p=s[1],O=Object(r.useState)(!1),h=Object(j.a)(O,2),d=h[0],m=h[1],x=Object(r.useState)(new Set([])),w=Object(j.a)(x,2),N=w[0],k=w[1];function C(){return(C=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getCompany(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.register(t);case 3:return n=e.sent,p(n),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{sucess:!1,errors:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(){return(q=Object(u.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.login(t);case 3:return n=e.sent,p(n),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{sucess:!1,errors:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(e){return N.has(e)}return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(Object(o.a)().mark((function e(){var t,n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=15;break}return e.prev=1,t=z.a.decode(b),n=t.username,f.token=b,e.next=6,f.getUser(n);case 6:r=e.sent,a(r),k(new Set(r.applications)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("App loadUserInfo: problem loading",e.t0),a(null);case 15:m(!0);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}console.debug("App useEffect loadUserInfo","token=",b),m(!1),function(){e.apply(this,arguments)}()}),[b]),d?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(v.Provider,{value:{currentUser:n,setCurrentUser:a,hasAppliedToJob:L,applyToJob:function(e){L(e)||(f.applyToJob(n.username,e),k(new Set([].concat(Object(i.a)(N),[e]))))}},children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(y,{logout:function(){a(null),p(null)}}),Object(g.jsx)(F,{login:function(e){return q.apply(this,arguments)},getCompany:function(e){return C.apply(this,arguments)},register:function(e){return S.apply(this,arguments)}})]})})}):Object(g.jsx)("h3",{children:"Loading..."})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(g.jsx)(B,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,t,n){}},[[317,1,2]]]);
//# sourceMappingURL=main.51a44186.chunk.js.map